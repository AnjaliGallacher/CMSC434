/* --- Root Variables (Light Mode Defaults - Adjusted for Contrast) --- */
:root {
	--primary-color: #007aff; /* iOS Blue */
	--primary-light: #e6f3ff;
	--accent-purple: #bf5af2; /* iOS Purple */
	--accent-teal: #64d2ff; /* iOS Teal */
	--accent-orange: #ff9f0a; /* iOS Orange */
	--accent-green: #30d158; /* iOS Green */
	--accent-red: #ff453a; /* iOS Red */
	--accent-yellow: #ffd60a; /* iOS Yellow */
	--accent-indigo: #5e5ce6; /* iOS Indigo */

	--background-color: #f2f2f7; /* System Gray 6 */
	--surface-color: #ffffff; /* White */
	--surface-secondary-color: #e5e5ea; /* System Gray 5 */
	--bottom-nav-background: rgba(242, 242, 247, 0.85); /* More opaque */

	--text-primary: #000000; /* Black */
	--text-secondary: #3c3c43; /* Opacity ~85% */
	--text-tertiary: #8a8a8e; /* Opacity ~60% */
	--text-link: var(--primary-color);
	--text-on-primary: #ffffff;
	--text-placeholder: #c7c7cc; /* System Gray 2 */

	--border-color: #c6c6c8; /* System Gray 3 */
	--separator-color: #dcdce0; /* Lighter separator */
	--shadow-color: rgba(0, 0, 0, 0.06);
	--shadow-strong-color: rgba(0, 0, 0, 0.12);

	--nav-height: 70px;
	--content-padding: 24px;
	--card-border-radius: 16px;
	--chart-track-color: var(--surface-secondary-color);
}

/* --- Dark Mode Variables --- */
:root.dark-mode {
	--primary-color: #0a84ff; /* iOS Blue Dark */
	--primary-light: #1a3c57; /* Darker shade */
	--accent-purple: #c86efa; /* iOS Purple Dark */
	--accent-teal: #60d7ff; /* iOS Teal Dark */
	--accent-orange: #ffab2e; /* iOS Orange Dark */
	--accent-green: #3eef6a; /* iOS Green Dark */
	--accent-red: #ff5b52; /* iOS Red Dark */
	--accent-yellow: #ffda38; /* iOS Yellow Dark */
	--accent-indigo: #706fd8; /* iOS Indigo Dark */

	--background-color: #000000; /* Black */
	--surface-color: #1c1c1e; /* System Gray 6 Dark */
	--surface-secondary-color: #2c2c2e; /* System Gray 5 Dark */
	--bottom-nav-background: rgba(28, 28, 30, 0.85); /* More opaque dark */

	--text-primary: #ffffff; /* White */
	--text-secondary: #ebebf5; /* Opacity ~85% */
	--text-tertiary: #8e8e93; /* Opacity ~60% */
	--text-link: var(--primary-color);
	--text-on-primary: #ffffff;
	--text-placeholder: #5a5a5f; /* Adjusted placeholder */

	--border-color: #3a3a3c; /* System Gray 3 Dark */
	--separator-color: #38383a; /* Darker separator */
	--shadow-color: rgba(0, 0, 0, 0.15); /* Shadows less visible on dark */
	--shadow-strong-color: rgba(0, 0, 0, 0.25);

	--chart-track-color: var(--surface-secondary-color);
}

/* --- Base Styles & Resets --- */
body,
html {
	margin: 0;
	padding: 0;
	font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
		Helvetica, Arial, sans-serif;
	height: 100%;
	background-color: #dcdce1; /* Fallback background outside container */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}
* {
	box-sizing: border-box;
}
html {
	background-color: var(--background-color); /* Apply theme background */
}
body {
	/* No background needed on body if html has it */
}

/* --- Base Transition for Theme Switch --- */
body,
.ipad-container,
.header,
.main-content,
.bottom-nav,
.card,
.form-input,
.form-select,
.form-textarea,
.input-unit,
.profile-stat-box,
.progress-section,
.summary-stat,
.food-items-section,
.summary-section,
.settings-section,
.modal-content {
	transition: background-color 0.3s ease, color 0.3s ease,
		border-color 0.3s ease;
}

/* --- iPad Container Simulation --- */
.ipad-container {
	width: 768px;
	height: 1024px;
	border: 1px solid var(--border-color);
	margin: 40px auto;
	background-color: var(--background-color);
	display: flex;
	flex-direction: column;
	position: relative;
	overflow: hidden;
	border-radius: 20px;
	box-shadow: 0 15px 40px var(--shadow-strong-color);
}

/* --- Header Styles --- */
.header {
	display: flex;
	justify-content: space-between; /* Default, override per page if needed */
	align-items: center;
	padding: 20px var(--content-padding) 15px var(--content-padding);
	flex-shrink: 0;
	position: relative;
	z-index: 10;
	background-color: var(--surface-color); /* Default to surface color */
	border-bottom: 1px solid var(--border-color);
}
/* Specific Header variations */
.header.transparent-bg {
	/* Used on profile, todo */
	background-color: var(--background-color);
	border-bottom: none;
}
.header .header-title {
	font-size: 20px;
	font-weight: 600;
	color: var(--text-primary);
	flex-grow: 1;
	text-align: center; /* Default centered title */
}
.header .header-logo {
	/* For todo page */
	font-size: 22px;
	font-weight: 700;
	color: var(--text-primary);
}
.header .header-actions {
	/* For todo page */
	display: flex;
	gap: 15px;
}
.header .header-action {
	/* For spacing on centered title headers */
	width: 50px; /* Adjust as needed for balance */
	flex-shrink: 0;
}
.header .action-button {
	/* Save buttons etc. */
	font-size: 17px;
	font-weight: 600;
	color: var(--text-link);
	cursor: pointer;
	background: none;
	border: none;
	padding: 8px 10px;
}
.header .action-button:disabled {
	color: var(--text-tertiary);
	cursor: default;
}
.header .action-icon {
	/* Settings, Notifications etc. */
	font-size: 26px;
	color: var(--text-secondary);
	cursor: pointer;
	padding: 8px;
	transition: color 0.2s ease;
	position: relative;
}
.header .action-icon:hover {
	color: var(--text-primary);
}
.header .notification-icon::after {
	content: "";
	display: block;
	width: 9px;
	height: 9px;
	background-color: var(--accent-red);
	border-radius: 50%;
	position: absolute;
	top: 8px;
	right: 5px;
	border: 2px solid var(--background-color); /* Use var for border */
}
.header.transparent-bg .notification-icon::after {
	border-color: var(--background-color); /* Ensure dot bg matches header */
}
.header:not(.transparent-bg) .notification-icon::after {
	border-color: var(--surface-color); /* Ensure dot bg matches header */
}

/* --- Main Content Area --- */
.main-content {
	flex-grow: 1;
	overflow-y: auto;
	padding: var(--content-padding);
	padding-top: 30px; /* Default top padding */
	padding-bottom: calc(var(--nav-height) + var(--content-padding));
	scrollbar-width: thin;
	scrollbar-color: var(--border-color) transparent;
}
.main-content::-webkit-scrollbar {
	width: 6px;
}
.main-content::-webkit-scrollbar-thumb {
	background-color: var(--border-color);
	border-radius: 3px;
}
.main-content::-webkit-scrollbar-track {
	background: transparent;
}

.main-content.less-top-padding {
	/* For profile, todo */
	padding-top: 10px;
}

/* --- Common Typography --- */
.greeting {
	/* todo page */
	font-size: 28px;
	font-weight: 700;
	color: var(--text-primary);
	margin: 15px 0 25px 0;
}
.section-title,
.stats-section-header,
.settings-header {
	/* progress, profile */
	font-size: 18px;
	font-weight: 600;
	color: var(--text-primary);
	margin: 0 0 20px 0;
	padding-bottom: 15px;
	border-bottom: 1px solid var(--separator-color);
	display: flex;
	align-items: center;
	justify-content: space-between;
}
.section-title .section-title-icon {
	/* progress */
	font-size: 20px;
	margin-right: 10px;
}
.section-controls {
	/* progress */
	font-size: 14px;
}
.section-controls select,
.section-controls button {
	/* progress */
	margin-left: 10px;
	padding: 5px 10px;
	font-size: 13px;
	border: 1px solid var(--border-color);
	border-radius: 8px;
	background-color: var(--surface-secondary-color);
	color: var(--text-secondary); /* Ensure text color contrasts */
	cursor: pointer;
}
.dark-mode .section-controls select,
.dark-mode .section-controls button {
	color: var(--text-primary); /* Better contrast in dark mode */
}

/* --- Form Styles --- */
.input-group {
	margin-bottom: 30px;
}
.input-row {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
	gap: 20px;
	margin-bottom: 20px;
}
.form-label {
	display: flex;
	align-items: center;
	font-size: 15px;
	font-weight: 500;
	color: var(--text-secondary);
	margin-bottom: 10px;
}
.form-label-icon {
	font-size: 18px;
	margin-right: 8px;
	color: var(--text-tertiary);
}
.form-input,
.form-select,
.form-textarea {
	width: 100%;
	padding: 14px 16px;
	border: 1px solid var(--border-color);
	border-radius: var(--card-border-radius);
	font-size: 17px;
	color: var(--text-primary);
	background-color: var(--surface-color);
	transition: border-color 0.2s ease, box-shadow 0.2s ease;
	box-shadow: 0 1px 2px rgba(0, 0, 0, 0.03);
}
.form-input::placeholder,
.form-textarea::placeholder {
	color: var(--text-placeholder);
}
.form-input:focus,
.form-select:focus,
.form-textarea:focus {
	outline: none;
	border-color: var(--primary-color);
	box-shadow: 0 0 0 3px var(--primary-color) 33; /* ~20% opacity */
}
.form-textarea {
	min-height: 100px;
	resize: vertical;
}
.form-select {
	appearance: none;
	-webkit-appearance: none;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%238A8A8E'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06z'/%3E%3C/svg%3E"); /* Use tertiary text color */
	background-repeat: no-repeat;
	background-position: right 16px center;
	background-size: 16px 16px;
	padding-right: 40px;
	cursor: pointer;
}
.dark-mode .form-select {
	/* Dark mode arrow */
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%238E8E93'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06z'/%3E%3C/svg%3E");
}
.input-with-unit {
	display: flex;
	align-items: stretch;
}
.input-with-unit .form-input {
	border-top-right-radius: 0;
	border-bottom-right-radius: 0;
	border-right: none;
	flex-grow: 1;
}
.input-unit {
	padding: 0 16px;
	background-color: var(--surface-secondary-color);
	border: 1px solid var(--border-color);
	border-left: none;
	border-top-right-radius: var(--card-border-radius);
	border-bottom-right-radius: var(--card-border-radius);
	font-size: 15px;
	color: var(--text-secondary);
	font-weight: 500;
	display: flex;
	align-items: center;
	white-space: nowrap;
}
.input-with-unit select.input-unit {
	padding-right: 30px;
	appearance: none;
	-webkit-appearance: none;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%233C3C43'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06z'/%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right 8px center;
	background-size: 16px 16px;
	border-left: 1px solid var(--border-color);
	cursor: pointer;
}
.dark-mode .input-with-unit select.input-unit {
	/* Dark mode arrow */
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23EBEBF5'%3E%3Cpath fill-rule='evenodd' d='M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06z'/%3E%3C/svg%3E");
}
.optional-fields-separator {
	border: none;
	border-top: 1px dashed var(--border-color);
	margin: 30px 0;
}
datalist {
	/* Basic datalist styling if needed */
}

/* --- Card Styles --- */
.card {
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	margin-bottom: 20px;
	padding: var(--content-padding);
	box-shadow: 0 5px 15px var(--shadow-color);
	overflow: hidden;
	transition: transform 0.2s ease, box-shadow 0.2s ease;
	cursor: pointer;
	position: relative;
}
.card:hover {
	transform: translateY(-3px);
	box-shadow: 0 8px 20px var(--shadow-strong-color);
}
.card-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: 15px;
	font-size: 13px;
	font-weight: 600;
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: 0.6px;
	padding-bottom: 10px;
	border-bottom: 1px solid var(--separator-color);
}
.card-header-title {
	display: flex;
	align-items: center;
}
.card-header-icon {
	font-size: 18px;
	margin-right: 8px;
}
.card::after {
	/* Chevron indicator */
	content: "❯";
	position: absolute;
	top: 22px;
	right: 20px;
	color: var(--text-tertiary);
	font-weight: 600;
	font-size: 20px;
	opacity: 0.6;
	transition: opacity 0.2s ease, transform 0.2s ease;
}
.card:hover::after {
	opacity: 1;
	color: var(--text-secondary);
	transform: translateX(3px);
}
.card-body {
	display: flex;
	align-items: center;
	padding-top: 5px;
}

/* --- Specific Card Types (Todo Page) --- */
.sleep-card .card-header-icon {
	color: var(--accent-purple);
}
.sleep-card .card-body {
	justify-content: space-between;
	align-items: center;
	gap: 25px;
}
.sleep-chart-container {
	width: 110px;
	height: 110px;
	position: relative;
	flex-shrink: 0;
}
.sleep-chart {
	/* Basic structure, background set inline or via JS */
	width: 100%;
	height: 100%;
	border-radius: 50%;
	background: conic-gradient(
		var(--accent-purple) 0% 80%,
		var(--chart-track-color) 80% 100%
	); /* Example */
	mask-image: radial-gradient(transparent 65%, black 66%);
	-webkit-mask-image: radial-gradient(transparent 65%, black 66%);
}
.sleep-chart-text {
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	text-align: center;
	font-weight: 600;
}
.sleep-chart-percentage {
	font-size: 20px;
	color: var(--text-primary);
	line-height: 1.1;
}
.sleep-chart-label {
	font-size: 11px;
	color: var(--text-secondary);
}
.sleep-details {
	text-align: right;
}
.sleep-duration {
	font-size: 26px;
	font-weight: 600;
	color: var(--text-primary);
	margin-bottom: 5px;
}
.sleep-duration-label {
	font-size: 13px;
	color: var(--text-secondary);
	font-weight: 500;
}

/* --- Stats Grid / Stat Cards (Todo, Profile) --- */
.stats-grid {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	gap: 18px;
} /* Default 3 col */
.profile-stats-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
	gap: 18px;
} /* Profile uses auto-fit */

.stat-card {
	/* Used in stats-grid */
	padding: 18px;
	margin-bottom: 0;
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	min-height: 150px;
	/* Inherits .card styles */
	background-color: var(
		--surface-color
	); /* Ensure background for standalone use */
	border-radius: var(--card-border-radius);
	box-shadow: 0 5px 15px var(--shadow-color);
	overflow: hidden;
	transition: transform 0.2s ease, box-shadow 0.2s ease;
	cursor: pointer;
	position: relative;
}
.stat-card:hover {
	transform: translateY(-3px);
	box-shadow: 0 8px 20px var(--shadow-strong-color);
}
.stat-card .card-header {
	margin-bottom: 12px;
	border-bottom: none;
	padding-bottom: 0;
}
.stat-card::after {
	content: "❯";
} /* Keep chevron */
.stat-card .card-body {
	flex-grow: 1;
	width: 100%;
	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: flex-start;
	padding-top: 0px;
	margin-top: auto;
}
.stat-value {
	font-size: 24px;
	font-weight: 600;
	color: var(--text-primary);
	line-height: 1.2;
}
.stat-unit,
.stat-label {
	font-size: 12px;
	color: var(--text-secondary);
	font-weight: 500;
	line-height: 1.4;
}
.stat-unit {
	margin-left: 3px;
}
.stat-label {
	margin-top: 4px;
}
.stat-progress-bar {
	width: 100%;
	height: 8px;
	background-color: var(--chart-track-color);
	border-radius: 4px;
	overflow: hidden;
	margin-top: 12px;
}
.stat-progress-bar-fill {
	height: 100%;
	background-color: var(--primary-color);
	border-radius: 4px;
	width: 0%;
	transition: width 0.5s ease;
}

/* Stat Card Icon/Progress Colors */
.goals-card .card-header-icon,
.goals-card .stat-progress-bar-fill {
	color: var(--accent-green);
	background-color: var(--accent-green);
}
.kcal-card .card-header-icon,
.kcal-card .stat-progress-bar-fill {
	color: var(--accent-orange);
	background-color: var(--accent-orange);
}
.water-card .card-header-icon,
.water-card .stat-progress-bar-fill {
	color: var(--accent-teal);
	background-color: var(--accent-teal);
}
.exercise-card .card-header-icon,
.exercise-card .stat-progress-bar-fill {
	color: var(--primary-color);
	background-color: var(--primary-color);
}
.steps-card .card-header-icon,
.steps-card .stat-progress-bar-fill {
	color: var(--accent-teal);
	background-color: var(--accent-teal);
}
.mind-card .card-header-icon,
.mind-card .stat-progress-bar-fill {
	color: var(--accent-purple);
	background-color: var(--accent-purple);
}

/* --- Profile Page Specific --- */
.profile-section {
	display: flex;
	align-items: center;
	padding-bottom: 30px;
	margin-bottom: 30px;
	border-bottom: 1px solid var(--separator-color);
	gap: 25px;
}
.profile-picture {
	width: 100px;
	height: 100px;
	border-radius: 50%;
	background-color: var(--primary-light);
	position: relative;
	box-shadow: 0 4px 10px rgba(0, 122, 255, 0.2);
	display: flex;
	justify-content: center;
	align-items: center;
	flex-shrink: 0;
	color: var(--primary-color);
	cursor: pointer;
	transition: transform 0.2s ease;
}
.profile-picture:hover {
	transform: scale(1.05);
}
.profile-picture::before {
	content: "👤";
	font-size: 50px;
	opacity: 0.9;
}
.profile-picture::after {
	content: "✏️";
	position: absolute;
	bottom: 5px;
	right: 5px;
	font-size: 18px;
	background-color: var(--surface-color);
	border-radius: 50%;
	padding: 5px;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
	opacity: 0;
	transition: opacity 0.2s ease;
}
.profile-picture:hover::after {
	opacity: 1;
}
.profile-info {
	flex-grow: 1;
	text-align: left;
}
.username {
	font-size: 24px;
	font-weight: 600;
	color: var(--text-primary);
	margin: 0 0 6px 0;
}
.user-bio {
	font-size: 16px;
	color: var(--text-secondary);
	line-height: 1.5;
	margin: 0;
	max-width: 450px;
}
.edit-profile-btn {
	display: inline-block;
	margin-top: 15px;
	padding: 8px 18px;
	background-color: var(--surface-secondary-color);
	color: var(--text-link);
	border: none;
	border-radius: 25px;
	font-size: 14px;
	font-weight: 600;
	cursor: pointer;
	transition: background-color 0.2s ease, transform 0.1s ease;
}
.edit-profile-btn:hover {
	background-color: var(--border-color);
}
.edit-profile-btn:active {
	transform: scale(0.98);
}
.profile-stat-box {
	/* Uses .card base + customizations */
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	padding: 18px;
	box-shadow: 0 4px 12px var(--shadow-color);
	transition: transform 0.2s ease, box-shadow 0.2s ease;
	display: flex;
	flex-direction: column;
	min-height: 130px;
}
.profile-stat-box.clickable:hover {
	transform: translateY(-3px);
	box-shadow: 0 6px 16px var(--shadow-strong-color);
	cursor: pointer;
}
.profile-stat-header {
	display: flex;
	align-items: center;
	font-size: 13px;
	font-weight: 500;
	color: var(--text-secondary);
	margin-bottom: 10px;
}
.profile-stat-icon {
	font-size: 18px;
	margin-right: 8px;
}
.profile-stat-value {
	font-size: 22px;
	font-weight: 600;
	color: var(--text-primary);
	line-height: 1.2;
	margin-top: auto;
	padding-top: 5px;
}
.profile-stat-unit {
	font-size: 13px;
	color: var(--text-secondary);
	margin-left: 4px;
}
.profile-stat-label {
	font-size: 12px;
	color: var(--text-tertiary);
	margin-top: 3px;
}
.icon-goals {
	color: var(--accent-green);
}
.icon-calories {
	color: var(--accent-orange);
}
.icon-sleep {
	color: var(--accent-purple);
}
.icon-run {
	color: var(--primary-color);
}
.icon-steps {
	color: var(--accent-teal);
}
.icon-water {
	color: var(--accent-teal);
}
.icon-heart {
	color: var(--accent-red);
}
.icon-strength {
	color: var(--primary-color);
}
.icon-badges {
	color: var(--accent-orange);
}
.icon-streak {
	color: var(--accent-green);
}
.icon-achievements {
	color: var(--accent-purple);
}
.icon-weight {
	color: var(--accent-red);
}

/* --- Settings Section (Profile Page) --- */
.settings-section {
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	margin-top: 30px;
	margin-bottom: 25px;
	padding: 5px var(--content-padding);
	box-shadow: 0 5px 15px var(--shadow-color);
}
.setting-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 15px 0;
	border-bottom: 1px solid var(--separator-color);
}
.setting-item:last-child {
	border-bottom: none;
}
.setting-label {
	font-size: 16px;
	color: var(--text-primary);
	display: flex;
	align-items: center;
	gap: 10px;
}
.setting-label .icon {
	font-size: 20px;
	color: var(--text-secondary);
}
.switch {
	position: relative;
	display: inline-block;
	width: 51px;
	height: 31px;
	flex-shrink: 0;
}
.switch input {
	opacity: 0;
	width: 0;
	height: 0;
}
.slider {
	position: absolute;
	cursor: pointer;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: var(--surface-secondary-color);
	transition: 0.4s;
	border-radius: 34px;
}
.slider:before {
	position: absolute;
	content: "";
	height: 27px;
	width: 27px;
	left: 2px;
	bottom: 2px;
	background-color: white;
	transition: 0.4s;
	border-radius: 50%;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}
input:checked + .slider {
	background-color: var(--accent-green);
}
input:focus + .slider {
	box-shadow: 0 0 0 2px var(--background-color), 0 0 0 4px var(--accent-green);
}
input:checked + .slider:before {
	transform: translateX(20px);
}

/* --- Log Meal Specific --- */
.food-items-section {
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	padding: var(--content-padding);
	margin-bottom: 30px;
	box-shadow: 0 4px 12px var(--shadow-color);
}
.food-items-section .section-header {
	/* Uses common .section-header */
	font-size: 18px;
	margin-bottom: 20px;
	padding-bottom: 15px;
	border-bottom: 1px solid var(--separator-color); /* Use separator color */
}
.food-items-section .section-header-icon {
	font-size: 20px;
	margin-right: 10px;
	color: var(--primary-color);
} /* Keep icon color specific? */
.food-item-list {
	list-style: none;
	padding: 0;
	margin: 0;
}
.food-item {
	display: flex;
	justify-content: space-between;
	align-items: center;
	padding: 15px 0;
	border-bottom: 1px solid var(--separator-color);
	font-size: 16px;
}
.food-item:last-child {
	border-bottom: none;
}
.food-item-name {
	color: var(--text-primary);
	font-weight: 500;
}
.food-item-details {
	color: var(--text-secondary);
	font-size: 14px;
	margin-top: 4px;
	display: block;
}
.food-item-info {
	flex-grow: 1;
	margin-right: 15px;
}
.remove-item-btn {
	color: var(--accent-red);
	background: none;
	border: none;
	font-size: 24px;
	line-height: 1;
	cursor: pointer;
	padding: 5px 8px;
	opacity: 0.7;
	transition: opacity 0.2s ease;
	flex-shrink: 0;
}
.remove-item-btn:hover {
	opacity: 1;
}
.add-item-button {
	display: block;
	margin-top: 20px;
	padding: 12px 0;
	color: var(--text-link);
	font-weight: 500;
	font-size: 16px;
	cursor: pointer;
	text-align: center;
	background: none;
	border: none;
	width: 100%;
	border-top: 1px solid var(--separator-color);
	padding-top: 20px;
	transition: background-color 0.2s ease;
	border-radius: 0 0 var(--card-border-radius) var(--card-border-radius);
}
.add-item-button:hover {
	background-color: var(--primary-light);
}
.summary-section {
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	padding: var(--content-padding);
	box-shadow: 0 4px 12px var(--shadow-color);
	margin-top: 30px;
}
.summary-section .section-header {
	margin-bottom: 15px;
	border-bottom: 1px solid var(--separator-color);
} /* Adjust spacing & border */
.summary-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
	gap: 20px;
	text-align: center;
	padding-top: 10px;
}
.summary-item-value {
	font-size: 20px;
	font-weight: 600;
	color: var(--text-primary);
	margin-bottom: 4px;
}
.summary-item-label {
	font-size: 13px;
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: 0.4px;
}

/* --- Progress Page Specific --- */
.progress-section {
	/* Uses .card styles */
	background-color: var(--surface-color);
	border-radius: var(--card-border-radius);
	margin-bottom: 25px;
	padding: var(--content-padding);
	box-shadow: 0 5px 15px var(--shadow-color);
}
.chart-container {
	position: relative;
	height: 250px;
	width: 100%;
	margin-bottom: 20px;
}
.summary-stats-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
	gap: 15px;
	margin-top: 20px;
}
.summary-stat {
	background-color: var(--background-color);
	padding: 15px;
	border-radius: 12px;
	text-align: center;
}
.summary-stat-value {
	font-size: 20px;
	font-weight: 600;
	color: var(--text-primary);
	margin-bottom: 4px;
}
.summary-stat-label {
	font-size: 12px;
	color: var(--text-secondary);
	text-transform: uppercase;
	letter-spacing: 0.3px;
}
.achievements-list {
	list-style: none;
	padding: 0;
	margin: 0;
}
.achievement-item {
	display: flex;
	align-items: center;
	padding: 12px 0;
	border-bottom: 1px solid var(--separator-color);
}
.achievement-item:last-child {
	border-bottom: none;
}
.achievement-icon {
	font-size: 28px;
	margin-right: 15px;
	flex-shrink: 0;
}
.achievement-details {
	flex-grow: 1;
}
.achievement-name {
	font-weight: 600;
	color: var(--text-primary);
	font-size: 16px;
}
.achievement-date {
	font-size: 13px;
	color: var(--text-secondary);
	margin-top: 3px;
}

/* --- Bottom Navigation Bar --- */
.bottom-nav {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: var(--nav-height);
	background-color: var(--bottom-nav-background);
	backdrop-filter: blur(15px);
	-webkit-backdrop-filter: blur(15px);
	border-top: 0.5px solid var(--border-color);
	display: flex;
	justify-content: space-around;
	align-items: stretch;
	z-index: 100;
	padding: 0 15px;
}
.nav-item {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	text-decoration: none;
	color: var(--text-tertiary);
	font-size: 11px;
	font-weight: 500;
	flex-grow: 1;
	text-align: center;
	transition: color 0.2s ease;
	padding: 8px 0 6px 0;
	position: relative;
	cursor: pointer;
}
.nav-icon {
	font-size: 26px;
	margin-bottom: 4px;
	line-height: 1;
}
.nav-item:hover {
	color: var(--text-secondary);
}
.nav-item.active {
	color: var(--primary-color);
}

/* --- Modal Styles (Profile Edit) --- */
.modal-overlay {
	position: fixed;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background-color: rgba(0, 0, 0, 0.6);
	backdrop-filter: blur(8px);
	-webkit-backdrop-filter: blur(8px);
	display: none;
	justify-content: center;
	align-items: center;
	z-index: 1000;
	opacity: 0;
	transition: opacity 0.3s ease;
}
.modal-overlay.visible {
	display: flex;
	opacity: 1;
} /* Control visibility with class */
.modal-content {
	background-color: var(--surface-color);
	padding: 30px;
	border-radius: var(--card-border-radius);
	box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
	width: 90%;
	max-width: 500px;
	transform: scale(0.95);
	transition: transform 0.3s ease;
}
.modal-overlay.visible .modal-content {
	transform: scale(1);
}
.modal-header {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: 20px;
	padding-bottom: 15px;
	border-bottom: 1px solid var(--separator-color);
}
.modal-title {
	font-size: 20px;
	font-weight: 600;
	color: var(--text-primary);
}
.modal-close-btn {
	font-size: 28px;
	line-height: 1;
	color: var(--text-tertiary);
	background: none;
	border: none;
	cursor: pointer;
	padding: 0 5px;
}
.modal-close-btn:hover {
	color: var(--text-secondary);
}
.modal-body .input-group {
	margin-bottom: 15px;
}
.modal-body .form-label {
	font-size: 14px;
	margin-bottom: 5px;
	color: var(--text-secondary);
}
.modal-body .form-input,
.modal-body .form-textarea {
	font-size: 16px;
	padding: 10px 12px;
}
.modal-actions {
	margin-top: 25px;
	text-align: right;
}
.modal-actions button {
	padding: 10px 20px;
	margin-left: 10px;
	border-radius: 8px;
	font-weight: 600;
	cursor: pointer;
	transition: background-color 0.2s ease, transform 0.1s ease;
}
.modal-actions button:active {
	transform: scale(0.97);
}
.modal-save-btn {
	background-color: var(--primary-color);
	color: var(--text-on-primary);
	border: none;
}
.modal-cancel-btn {
	background-color: var(--surface-secondary-color);
	color: var(--text-secondary);
	border: 1px solid var(--border-color);
}
.dark-mode .modal-cancel-btn {
	border-color: var(--surface-secondary-color);
} /* Adjust cancel border in dark */

/* --- Time Filters (Todo Page) --- */
.time-filters {
	display: flex;
	gap: 12px;
	margin-bottom: 30px;
}
.filter-btn {
	padding: 9px 20px;
	border: none;
	border-radius: 25px;
	font-size: 14px;
	font-weight: 600;
	color: var(--text-link);
	background-color: var(--surface-color);
	cursor: pointer;
	transition: all 0.2s ease;
	box-shadow: 0 2px 5px var(--shadow-color);
}
.filter-btn:hover {
	background-color: var(--surface-secondary-color);
	transform: translateY(-1px);
}
.filter-btn.active {
	background-color: var(--primary-color);
	color: var(--text-on-primary);
	box-shadow: 0 3px 8px rgba(0, 122, 255, 0.3);
	transform: translateY(0);
}
